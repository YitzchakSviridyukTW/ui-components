{"version":3,"file":"ActionIcon.stories-36ff6fcd.js","sources":["../../src/components/ActionIcon/ActionIconStyleComputer.ts","../../src/components/ActionIcon/ActionIcon.tsx"],"sourcesContent":["import { FormattedColor } from '../../types';\nimport { ActionIconProps } from './ActionIcon';\nimport { StyleComputer } from '../../interfaces/StyleComputer';\nimport { MantineTheme } from '@mantine/core';\n\ntype ExtractedProps = Pick<ActionIconProps, 'color' | 'outline'>;\n\nexport class ActionIconStyleComputer implements StyleComputer {\n  private readonly color: FormattedColor = 'one.6';\n  private readonly focusOutline: boolean = false;\n\n  public constructor(private readonly theme: MantineTheme, props: ExtractedProps) {\n    this.color = props.color ?? this.color;\n    this.focusOutline = props.outline ?? this.focusOutline;\n  }\n\n  // convert the formatted color to the actual color string it represents in the theme object\n  private get colorString(): string {\n    const [clr, shade] = this.color.split('.'); // like \"orange.5\" for example\n    return this.theme.colors[clr][+shade];\n  }\n\n  private get outlineStyles(): object {\n    return {\n      ...(!!this.focusOutline && {\n        '&:focus': {\n          // TODO: Would be better for accessibility if we used \"outline\" instead of box-shadow - try to refactor when we have time\n          boxShadow: `0px 1px 2px rgba(0, 0, 0, 0.05),\n                      0px 0px 0px 2px #FFFFFF,\n                      0px 0px 0px 4px ${this.colorString}`,\n        },\n      }),\n    };\n  }\n\n  // no style API provided for this\n  public get customStyles() {\n    return {\n      borderRadius: this.theme.radius['round'],\n      ...this.outlineStyles,\n    };\n  }\n}\n","import {\n  ActionIcon as MantineActionIcon,\n  ActionIconProps as MantineActionIconProps,\n  MantineTheme,\n} from '@mantine/core';\nimport { FC, PropsWithChildren, forwardRef } from 'react';\nimport { FormattedColor, Size, TwBaseProps } from '../../types';\nimport { ActionIconStyleComputer } from './ActionIconStyleComputer';\nimport { styled } from '../../utils';\n\nexport interface ActionIconProps\n  extends TwBaseProps,\n    PropsWithChildren,\n    // TODO: See with design if we're going to limit some variants\n    Pick<MantineActionIconProps, 'disabled' | 'loaderProps' | 'loading' | 'variant'> {\n  size?: Size;\n  color?: FormattedColor;\n  outline?: boolean;\n  onClick?: () => any;\n}\n\nconst Root = styled(MantineActionIcon)<MantineActionIconProps>(() => ({}));\n\nexport const ActionIcon: FC<ActionIconProps> = forwardRef((props, ref) => {\n  const { size = 'md', 'data-testid': dataTestId = 'action-icon', outline, ...other } = props;\n\n  return (\n    <Root\n      ref={ref}\n      {...{\n        size,\n        // color,\n        'data-testid': dataTestId,\n        // NOTE: only use \"sx\", when \"styles\" doesn't exist for a specific element\n        // \"styles\" contains a list of target fields that can be used for Mantine's style API\n        sx(theme: MantineTheme) {\n          const aisc = new ActionIconStyleComputer(theme, props);\n          return aisc.customStyles;\n        },\n        ...other,\n      }}\n    />\n  );\n});\n"],"names":["ActionIconStyleComputer","theme","props","__publicField","clr","shade","Root","styled","MantineActionIcon","ActionIcon","forwardRef","ref","size","dataTestId","outline","other","jsx"],"mappings":"ujBAOO,MAAMA,CAAiD,CAIrD,YAA6BC,EAAqBC,EAAuB,CAH/DC,EAAA,aAAwB,SACxBA,EAAA,oBAAwB,IAEL,KAAA,MAAAF,EAC7B,KAAA,MAAQC,EAAM,OAAS,KAAK,MAC5B,KAAA,aAAeA,EAAM,SAAW,KAAK,YAC5C,CAGA,IAAY,aAAsB,CAChC,KAAM,CAACE,EAAKC,CAAK,EAAI,KAAK,MAAM,MAAM,GAAG,EACzC,OAAO,KAAK,MAAM,OAAOD,CAAG,EAAE,CAACC,CAAK,CACtC,CAEA,IAAY,eAAwB,CAC3B,MAAA,CACL,GAAI,CAAC,CAAC,KAAK,cAAgB,CACzB,UAAW,CAET,UAAW;AAAA;AAAA,wCAEmB,KAAK,WAAW,EAChD,CACF,CAAA,CAEJ,CAGA,IAAW,cAAe,CACjB,MAAA,CACL,aAAc,KAAK,MAAM,OAAO,MAChC,GAAG,KAAK,aAAA,CAEZ,CACF,CCrBA,MAAAC,EAAAC,EAAAC,CAAA,EAAA,KAAA,CAAA,EAAA,EAEOC,EAAAC,EAAA,WAAA,CAAAR,EAAAS,IAAA,CACL,KAAA,CAAA,KAAAC,EAAA,KAAA,cAAAC,EAAA,cAAA,QAAAC,EAAA,GAAAC,CAAA,EAAAb,EAEA,OAAAc,EAAA,IACEV,EAAC,CAAA,IAAAK,EAEK,KAAAC,EACF,cAAAC,EAEe,GAAAZ,EAAA,CAKb,OADA,IAAAD,EAAAC,EAAAC,CAAA,EACA,YAAY,EACd,GAAAa,CAEF,CAAA,CAGN,CAAA;;;;;;;;;;"}