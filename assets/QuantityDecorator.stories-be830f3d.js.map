{"version":3,"file":"QuantityDecorator.stories-be830f3d.js","sources":["../../src/components/QuantityDecorator/QuantityDecoratorComputer.ts","../../src/components/QuantityDecorator/QuantityDecorator.tsx"],"sourcesContent":["import { FormattedColor } from '../../types';\nimport { MantineTheme } from '@mantine/core';\nimport { QuantityDecoratorProps } from './QuantityDecorator';\n\nexport class QuantityDecoratorComputer {\n  private readonly size: 'sm' = 'sm'; // TODO: change to Size when we have all sizes\n  private readonly color: FormattedColor = 'one.6';\n\n  // TODO: change to Size when we have all sizes\n  private sizes: Readonly<Record<string, Record<'sm', `${string}rem`>>> = {\n    dimension: {\n      sm: '0.938rem',\n    },\n    font: {\n      sm: '0.68rem',\n    },\n    border: {\n      sm: '0.188rem',\n    }\n  }\n\n  public constructor(private readonly theme: MantineTheme, props: Pick<QuantityDecoratorProps, 'size' | 'color'>) {\n    this.size = props.size ?? this.size;\n    this.color = props.color ?? this.color;\n  }\n\n  private get colorString(): string {\n    const [clr, shade] = this.color.split('.');\n    return this.theme.colors[clr][+shade];\n  }\n\n  public get basicStyle() {\n    return {\n      fontFamily: this.theme.fontFamily,\n      borderColor: this.theme.colors.white[0],\n      borderStyle: 'solid',\n    };\n  }\n\n  public get colorStyle() {\n    return {\n      backgroundColor: this.colorString,\n      color: this.theme.colors.white[0],\n    };\n  }\n\n  public get sizeStyle() {\n    return {\n      width: this.sizes.dimension[this.size],\n      height: this.sizes.dimension[this.size],\n      fontSize: this.sizes.font[this.size],\n      borderWidth: this.sizes.border[this.size],\n    };\n  }\n}\n","import { FC, PropsWithChildren, forwardRef } from 'react';\nimport { FormattedColor, TwBaseProps } from '../../types';\nimport { Box, BoxProps, MantineTheme } from '@mantine/core';\nimport { QuantityDecoratorComputer } from './QuantityDecoratorComputer';\nimport { styled } from '../../utils';\n\nexport interface QuantityDecoratorProps\n  extends TwBaseProps,\n  PropsWithChildren {\n  quantity: number;\n  size?: 'sm'; // TODO: change to Size when we have all sizes\n  color?: FormattedColor;\n}\n\nconst Root = styled(Box)<BoxProps>(() => ({}));\n\nexport const QuantityDecorator: FC<QuantityDecoratorProps> = forwardRef((props, ref) => {\n  const {\n    children,\n    quantity,\n    size,\n    color,\n  } = props;\n\n  return <Root ref={ref} pos=\"relative\" display=\"inline-block\">\n    {children}\n\n    <Box component=\"div\" sx={(theme: MantineTheme) => {\n      const style = new QuantityDecoratorComputer(theme, { size, color });\n\n      return {\n        ...style.basicStyle,\n        ...style.colorStyle,\n        ...style.sizeStyle,\n        position: 'absolute',\n        boxSizing: 'unset',\n        display: 'inline-flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        right: 0,\n        top: 0,\n        borderRadius: '50%',\n        transform: 'translate(20%, -30%)',\n      };\n    }}>\n      {quantity}\n    </Box>\n  </Root>;\n});\n"],"names":["QuantityDecoratorComputer","theme","props","__publicField","clr","shade","Root","styled","Box","QuantityDecorator","forwardRef","ref","children","quantity","size","color","jsxs","jsx","style"],"mappings":"ujBAIO,MAAMA,CAA0B,CAiB9B,YAA6BC,EAAqBC,EAAuD,CAhB/FC,EAAA,YAAa,MACbA,EAAA,aAAwB,SAGjCA,EAAA,aAAgE,CACtE,UAAW,CACT,GAAI,UACN,EACA,KAAM,CACJ,GAAI,SACN,EACA,OAAQ,CACN,GAAI,UACN,CAAA,GAGkC,KAAA,MAAAF,EAC7B,KAAA,KAAOC,EAAM,MAAQ,KAAK,KAC1B,KAAA,MAAQA,EAAM,OAAS,KAAK,KACnC,CAEA,IAAY,aAAsB,CAChC,KAAM,CAACE,EAAKC,CAAK,EAAI,KAAK,MAAM,MAAM,GAAG,EACzC,OAAO,KAAK,MAAM,OAAOD,CAAG,EAAE,CAACC,CAAK,CACtC,CAEA,IAAW,YAAa,CACf,MAAA,CACL,WAAY,KAAK,MAAM,WACvB,YAAa,KAAK,MAAM,OAAO,MAAM,CAAC,EACtC,YAAa,OAAA,CAEjB,CAEA,IAAW,YAAa,CACf,MAAA,CACL,gBAAiB,KAAK,YACtB,MAAO,KAAK,MAAM,OAAO,MAAM,CAAC,CAAA,CAEpC,CAEA,IAAW,WAAY,CACd,MAAA,CACL,MAAO,KAAK,MAAM,UAAU,KAAK,IAAI,EACrC,OAAQ,KAAK,MAAM,UAAU,KAAK,IAAI,EACtC,SAAU,KAAK,MAAM,KAAK,KAAK,IAAI,EACnC,YAAa,KAAK,MAAM,OAAO,KAAK,IAAI,CAAA,CAE5C,CACF,CCxCA,MAAAC,EAAAC,EAAAC,CAAA,EAAA,KAAA,CAAA,EAAA,EAEOC,EAAAC,EAAA,WAAA,CAAAR,EAAAS,IAAA,CACL,KAAA,CAAM,SAAAC,EACJ,SAAAC,EACA,KAAAC,EACA,MAAAC,CACA,EAAAb,EAGF,OAAAc,EAAA,KAAAV,EAAA,CAAA,IAAAK,EAAA,IAAA,WAAA,QAAA,eAAA,SAAA,CACGC,EAAAK,EAAA,IAAAT,EAAA,CAAA,UAAA,MAAA,GAAAP,GAAA,CAGC,MAAAiB,EAAA,IAAAlB,EAAAC,EAAA,CAAA,KAAAa,EAAA,MAAAC,CAAA,CAAA,EAEA,MAAA,CAAO,GAAAG,EAAA,WACI,GAAAA,EAAA,WACA,GAAAA,EAAA,UACA,SAAA,WACC,UAAA,QACC,QAAA,cACF,WAAA,SACG,eAAA,SACI,MAAA,EACT,IAAA,EACF,aAAA,MACS,UAAA,sBACH,CACb,EAAA,SAAAL,EAAA,CAGF,CAAA,CAAA,CAEJ,CAAA;;;;;;;;;;;"}