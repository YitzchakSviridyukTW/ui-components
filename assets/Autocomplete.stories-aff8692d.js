import{j as D,T as xe}from"./ThemeProvider-26608dcc.js";import{r as u,R as o}from"./index-61bf1805.js";import{s as De}from"./utils-29fdbd63.js";import{D as Se,g as Oe,S as C,a as _e,b as Ie}from"./SelectPopover-45c19d21.js";import{c as Re}from"./create-styles-5419e27d.js";import{u as Ae}from"./use-input-props-1efa87b2.js";import{I as z}from"./Input-d73ae213.js";import{g as ke}from"./Transition-1d4b8db2.js";import{u as Ee}from"./use-uncontrolled-99e60b6a.js";import{u as Ne}from"./use-did-update-ace30b87.js";import{u as Fe}from"./use-merged-ref-f796d887.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-cbc55568.js";import"./_commonjsHelpers-de833af9.js";import"./Text-a3983a60.js";import"./use-id-ffac3e23.js";import"./index-2801d3c9.js";import"./get-styles-ref-1f22bf7e.js";import"./pack-sx-3cdbfbd6.js";import"./get-floating-position-ec0ec020.js";import"./floating-ui.dom.browser.min-68d1e088.js";import"./create-safe-context-7cc4f5c7.js";import"./OptionalPortal-7fa477af.js";import"./FocusTrap-146d050a.js";import"./Input.styles-4e18fb2b.js";import"./use-reduced-motion-72536671.js";function Te({data:e,limit:n,value:t,filter:i}){const f=[];for(let m=0;m<e.length&&(i(t,e[m])&&f.push(e[m]),!(f.length>=n));m+=1);return f}var He=Re(()=>({wrapper:{position:"relative"}}));const We=He;var ze=Object.defineProperty,Me=Object.defineProperties,je=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,M=(e,n,t)=>n in e?ze(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,x=(e,n)=>{for(var t in n||(n={}))$.call(n,t)&&M(e,t,n[t]);if(v)for(var t of v(n))U.call(n,t)&&M(e,t,n[t]);return e},j=(e,n)=>Me(e,je(n)),Ke=(e,n)=>{var t={};for(var i in e)$.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&v)for(var i of v(e))n.indexOf(i)<0&&U.call(e,i)&&(t[i]=e[i]);return t};function Le(e,n){return n.value.toLowerCase().trim().includes(e.toLowerCase().trim())}const Be={required:!1,size:"sm",shadow:"sm",limit:5,itemComponent:Se,transitionProps:{transition:"fade",duration:0},initiallyOpened:!1,filter:Le,switchDirectionOnFlip:!1,zIndex:ke("popover"),dropdownPosition:"flip",maxDropdownHeight:"auto",positionDependencies:[]},G=u.forwardRef((e,n)=>{const t=Ae("Autocomplete",Be,e),{inputProps:i,wrapperProps:f,shadow:m,data:Z,limit:Y,value:J,defaultValue:Q,onChange:X,unstyled:O,itemComponent:ee,onItemSubmit:g,onKeyDown:_,onFocus:I,onBlur:R,onClick:A,transitionProps:ne,initiallyOpened:te,classNames:c,styles:y,filter:ae,nothingFound:k,onDropdownClose:ie,onDropdownOpen:re,withinPortal:le,switchDirectionOnFlip:de,zIndex:oe,dropdownPosition:ue,maxDropdownHeight:se,dropdownComponent:pe,positionDependencies:fe,readOnly:E,hoverOnSearchChange:N}=t,me=Ke(t,["inputProps","wrapperProps","shadow","data","limit","value","defaultValue","onChange","unstyled","itemComponent","onItemSubmit","onKeyDown","onFocus","onBlur","onClick","transitionProps","initiallyOpened","classNames","styles","filter","nothingFound","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","dropdownPosition","maxDropdownHeight","dropdownComponent","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:ce}=We(null,{classNames:c,styles:y,name:"Autocomplete",unstyled:O}),[V,ye]=u.useState(te),[s,p]=u.useState(-1),[F,he]=u.useState("column"),ge=u.useRef(null),[Ve,T]=u.useState(!1),[q,P]=Ee({value:J,defaultValue:Q,finalValue:"",onChange:X}),r=a=>{ye(a);const h=a?re:ie;typeof h=="function"&&h()};Ne(()=>{p(N&&q?0:-1)},[q,N]);const qe=a=>{P(a.value),typeof g=="function"&&g(a),r(!1)},be=Z.map(a=>typeof a=="string"?{value:a}:a),l=Oe({data:Te({data:be,value:q,limit:Y,filter:ae})}),we=a=>{if(Ve)return;typeof _=="function"&&_(a);const h=F==="column",H=()=>{p(d=>d<l.length-1?d+1:d)},W=()=>{p(d=>d>0?d-1:d)};switch(a.key){case"ArrowUp":{a.preventDefault(),h?W():H();break}case"ArrowDown":{a.preventDefault(),h?H():W();break}case"Enter":{l[s]&&V&&(a.preventDefault(),P(l[s].value),typeof g=="function"&&g(l[s]),r(!1));break}case"Escape":V&&(a.preventDefault(),r(!1))}},ve=a=>{typeof I=="function"&&I(a),r(!0)},Pe=a=>{typeof R=="function"&&R(a),r(!1)},Ce=a=>{typeof A=="function"&&A(a),r(!0)},b=V&&(l.length>0||l.length===0&&!!k);return o.createElement(z.Wrapper,j(x({},f),{__staticSelector:"Autocomplete"}),o.createElement(C,{opened:b,transitionProps:ne,shadow:"sm",withinPortal:le,__staticSelector:"Autocomplete",onDirectionChange:he,switchDirectionOnFlip:de,zIndex:oe,dropdownPosition:ue,positionDependencies:fe,classNames:c,styles:y,unstyled:O,readOnly:E,variant:i.variant},o.createElement(C.Target,null,o.createElement("div",{className:ce.wrapper,"aria-controls":i.id,onMouseLeave:()=>p(-1),tabIndex:-1},o.createElement(z,j(x(x({type:"search",autoComplete:"off"},i),me),{readOnly:E,"data-mantine-stop-propagation":V,ref:Fe(n,ge),onKeyDown:we,classNames:c,styles:y,__staticSelector:"Autocomplete",value:q,onChange:a=>{P(a.currentTarget.value),r(!0)},onFocus:ve,onBlur:Pe,onClick:Ce,onCompositionStart:()=>T(!0),onCompositionEnd:()=>T(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":b?`${i.id}-items`:null,"aria-expanded":b,"aria-autocomplete":"list","aria-controls":b?`${i.id}-items`:null,"aria-activedescendant":s>=0?`${i.id}-${s}`:null})))),o.createElement(C.Dropdown,{component:pe||_e,maxHeight:se,direction:F,id:i.id,__staticSelector:"Autocomplete",classNames:c,styles:y},o.createElement(Ie,{data:l,hovered:s,classNames:c,styles:y,uuid:i.id,__staticSelector:"Autocomplete",onItemHover:p,onItemSelect:qe,itemComponent:ee,size:i.size,nothingFound:k,variant:i.variant}))))});G.displayName="@mantine/core/Autocomplete";const $e=De(G)(()=>({})),S=u.forwardRef((e,n)=>D.jsx($e,{...e,ref:n,styles:t=>({input:{borderColor:t.colors.gray[3],minHeight:"38px",...!!e.error&&{position:"relative",top:t.spacing.xs}},error:{position:"relative",top:t.spacing.xs,paddingTop:5},icon:{paddingTop:e.error?t.spacing.lg:""}})}));try{S.displayName="Autocomplete",S.__docgenInfo={description:"",displayName:"Autocomplete",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | undefined"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string | undefined"}},accept:{defaultValue:null,description:"",name:"accept",required:!1,type:{name:"string | undefined"}},alt:{defaultValue:null,description:"",name:"alt",required:!1,type:{name:"string | undefined"}},autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"string | undefined"}},capture:{defaultValue:null,description:"",name:"capture",required:!1,type:{name:'boolean | "user" | "environment" | undefined'}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:null,description:"Disabled input state",name:"disabled",required:!1,type:{name:"boolean | undefined"}},enterKeyHint:{defaultValue:null,description:"",name:"enterKeyHint",required:!1,type:{name:'"search" | "enter" | "done" | "go" | "next" | "previous" | "send" | undefined'}},form:{defaultValue:null,description:"",name:"form",required:!1,type:{name:"string | undefined"}},formAction:{defaultValue:null,description:"",name:"formAction",required:!1,type:{name:"string | undefined"}},formEncType:{defaultValue:null,description:"",name:"formEncType",required:!1,type:{name:"string | undefined"}},formMethod:{defaultValue:null,description:"",name:"formMethod",required:!1,type:{name:"string | undefined"}},formNoValidate:{defaultValue:null,description:"",name:"formNoValidate",required:!1,type:{name:"boolean | undefined"}},formTarget:{defaultValue:null,description:"",name:"formTarget",required:!1,type:{name:"string | undefined"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string | number | undefined"}},list:{defaultValue:null,description:"",name:"list",required:!1,type:{name:"string | undefined"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"string | number | undefined"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number | undefined"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"string | number | undefined"}},minLength:{defaultValue:null,description:"",name:"minLength",required:!1,type:{name:"number | undefined"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean | undefined"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string | undefined"}},pattern:{defaultValue:null,description:"",name:"pattern",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string | undefined"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean | undefined"}},required:{defaultValue:null,description:"Sets required on input element",name:"required",required:!1,type:{name:"boolean | undefined"}},size:{defaultValue:null,description:"Input size",name:"size",required:!1,type:{name:"MantineSize | undefined"}},src:{defaultValue:null,description:"",name:"src",required:!1,type:{name:"string | undefined"}},step:{defaultValue:null,description:"",name:"step",required:!1,type:{name:"string | number | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"HTMLInputTypeAttribute | undefined"}},value:{defaultValue:null,description:"Controlled input value",name:"value",required:!1,type:{name:"string | undefined"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string | number | undefined"}},defaultChecked:{defaultValue:null,description:"",name:"defaultChecked",required:!1,type:{name:"boolean | undefined"}},defaultValue:{defaultValue:null,description:"Uncontrolled input defaultValue",name:"defaultValue",required:!1,type:{name:"string | undefined"}},suppressContentEditableWarning:{defaultValue:null,description:"",name:"suppressContentEditableWarning",required:!1,type:{name:"boolean | undefined"}},suppressHydrationWarning:{defaultValue:null,description:"",name:"suppressHydrationWarning",required:!1,type:{name:"boolean | undefined"}},accessKey:{defaultValue:null,description:"",name:"accessKey",required:!1,type:{name:"string | undefined"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean | undefined"}},contentEditable:{defaultValue:null,description:"",name:"contentEditable",required:!1,type:{name:'"inherit" | Booleanish | undefined'}},contextMenu:{defaultValue:null,description:"",name:"contextMenu",required:!1,type:{name:"string | undefined"}},dir:{defaultValue:null,description:"",name:"dir",required:!1,type:{name:"string | undefined"}},draggable:{defaultValue:null,description:"",name:"draggable",required:!1,type:{name:"Booleanish | undefined"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean | undefined"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string | undefined"}},nonce:{defaultValue:null,description:"",name:"nonce",required:!1,type:{name:"string | undefined"}},slot:{defaultValue:null,description:"",name:"slot",required:!1,type:{name:"string | undefined"}},spellCheck:{defaultValue:null,description:"",name:"spellCheck",required:!1,type:{name:"Booleanish | undefined"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},translate:{defaultValue:null,description:"",name:"translate",required:!1,type:{name:'"yes" | "no" | undefined'}},radioGroup:{defaultValue:null,description:"",name:"radioGroup",required:!1,type:{name:"string | undefined"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"AriaRole | undefined"}},about:{defaultValue:null,description:"",name:"about",required:!1,type:{name:"string | undefined"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string | undefined"}},datatype:{defaultValue:null,description:"",name:"datatype",required:!1,type:{name:"string | undefined"}},inlist:{defaultValue:null,description:"",name:"inlist",required:!1,type:{name:"any"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!1,type:{name:"string | undefined"}},property:{defaultValue:null,description:"",name:"property",required:!1,type:{name:"string | undefined"}},rel:{defaultValue:null,description:"",name:"rel",required:!1,type:{name:"string | undefined"}},resource:{defaultValue:null,description:"",name:"resource",required:!1,type:{name:"string | undefined"}},rev:{defaultValue:null,description:"",name:"rev",required:!1,type:{name:"string | undefined"}},typeof:{defaultValue:null,description:"",name:"typeof",required:!1,type:{name:"string | undefined"}},vocab:{defaultValue:null,description:"",name:"vocab",required:!1,type:{name:"string | undefined"}},autoCapitalize:{defaultValue:null,description:"",name:"autoCapitalize",required:!1,type:{name:"string | undefined"}},autoCorrect:{defaultValue:null,description:"",name:"autoCorrect",required:!1,type:{name:"string | undefined"}},autoSave:{defaultValue:null,description:"",name:"autoSave",required:!1,type:{name:"string | undefined"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string | undefined"}},itemProp:{defaultValue:null,description:"",name:"itemProp",required:!1,type:{name:"string | undefined"}},itemScope:{defaultValue:null,description:"",name:"itemScope",required:!1,type:{name:"boolean | undefined"}},itemType:{defaultValue:null,description:"",name:"itemType",required:!1,type:{name:"string | undefined"}},itemID:{defaultValue:null,description:"",name:"itemID",required:!1,type:{name:"string | undefined"}},itemRef:{defaultValue:null,description:"",name:"itemRef",required:!1,type:{name:"string | undefined"}},results:{defaultValue:null,description:"",name:"results",required:!1,type:{name:"number | undefined"}},security:{defaultValue:null,description:"",name:"security",required:!1,type:{name:"string | undefined"}},unselectable:{defaultValue:null,description:"",name:"unselectable",required:!1,type:{name:'"on" | "off" | undefined'}},inputMode:{defaultValue:null,description:`Hints at the type of data that might be entered by the user while editing the element or its contents
@see https://html.spec.whatwg.org/multipage/interaction.html#input-modalities:-the-inputmode-attribute`,name:"inputMode",required:!1,type:{name:'"search" | "text" | "email" | "tel" | "url" | "none" | "numeric" | "decimal" | undefined'}},is:{defaultValue:null,description:`Specify that a standard HTML element should behave like a defined custom built-in element
@see https://html.spec.whatwg.org/multipage/custom-elements.html#attr-is`,name:"is",required:!1,type:{name:"string | undefined"}},label:{defaultValue:null,description:"Input label, displayed before input",name:"label",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"Input description, displayed after label",name:"description",required:!1,type:{name:"ReactNode"}},error:{defaultValue:null,description:"Displays error message after input",name:"error",required:!1,type:{name:"ReactNode"}},radius:{defaultValue:null,description:"Key of theme.radius or any valid CSS value to set border-radius, theme.defaultRadius by default",name:"radius",required:!1,type:{name:"MantineNumberSize | undefined"}},icon:{defaultValue:null,description:"Adds icon on the left side of input",name:"icon",required:!1,type:{name:"ReactNode"}},rightSection:{defaultValue:null,description:"Right section of input, similar to icon but on the right",name:"rightSection",required:!1,type:{name:"ReactNode"}},data:{defaultValue:null,description:"Select data used to render items in dropdown",name:"data",required:!0,type:{name:"readonly (string | AutocompleteItem)[]"}},filter:{defaultValue:null,description:"Function based on which items in dropdown are filtered",name:"filter",required:!1,type:{name:"((value: string, item: AutocompleteItem) => boolean) | undefined"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key | null | undefined"}},variant:{defaultValue:null,description:"Defines input appearance, defaults to default in light color scheme and filled in dark",name:"variant",required:!1,type:{name:'Variants<"unstyled" | "default" | "filled"> | undefined'}},transitionProps:{defaultValue:null,description:"Props added to Transition component that used to animate dropdown presence, use to configure duration and animation type, { duration: 0, transition: 'fade' } by default",name:"transitionProps",required:!1,type:{name:'Partial<Omit<TransitionProps, "mounted">> | undefined'}},positionDependencies:{defaultValue:null,description:"useEffect dependencies to force update dropdown position",name:"positionDependencies",required:!1,type:{name:"any[] | undefined"}},withinPortal:{defaultValue:null,description:"Whether to render the dropdown in a Portal",name:"withinPortal",required:!1,type:{name:"boolean | undefined"}},portalProps:{defaultValue:null,description:"Props to pass down to the portal when withinPortal is true",name:"portalProps",required:!1,type:{name:'Omit<PortalProps, "children" | "withinPortal"> | undefined'}},zIndex:{defaultValue:null,description:"Dropdown z-index",name:"zIndex",required:!1,type:{name:"ZIndex | undefined"}},wrapperProps:{defaultValue:null,description:"Properties spread to root element",name:"wrapperProps",required:!1,type:{name:"Record<string, any> | undefined"}},withAsterisk:{defaultValue:null,description:"Determines whether required asterisk should be rendered, overrides required prop, does not add required attribute to the input",name:"withAsterisk",required:!1,type:{name:"boolean | undefined"}},labelProps:{defaultValue:null,description:"Props spread to label element",name:"labelProps",required:!1,type:{name:"Record<string, any> | undefined"}},descriptionProps:{defaultValue:null,description:"Props spread to description element",name:"descriptionProps",required:!1,type:{name:"Record<string, any> | undefined"}},errorProps:{defaultValue:null,description:"Props spread to error element",name:"errorProps",required:!1,type:{name:"Record<string, any> | undefined"}},inputContainer:{defaultValue:null,description:"Input container component, defaults to React.Fragment",name:"inputContainer",required:!1,type:{name:"((children: ReactNode) => ReactNode) | undefined"}},inputWrapperOrder:{defaultValue:null,description:"Controls order of the Input.Wrapper elements",name:"inputWrapperOrder",required:!1,type:{name:'("label" | "description" | "error" | "input")[] | undefined'}},shadow:{defaultValue:null,description:"Dropdown shadow from theme or any value to set box-shadow",name:"shadow",required:!1,type:{name:"MantineShadow | undefined"}},nothingFound:{defaultValue:null,description:"Nothing found label",name:"nothingFound",required:!1,type:{name:"ReactNode"}},maxDropdownHeight:{defaultValue:null,description:"Maximum dropdown height",name:"maxDropdownHeight",required:!1,type:{name:"string | number | undefined"}},hoverOnSearchChange:{defaultValue:null,description:"Hovers the first result when input changes",name:"hoverOnSearchChange",required:!1,type:{name:"boolean | undefined"}},dropdownComponent:{defaultValue:null,description:"Change dropdown component, can be used to add native scrollbars",name:"dropdownComponent",required:!1,type:{name:"any"}},iconWidth:{defaultValue:null,description:"Width of icon section",name:"iconWidth",required:!1,type:{name:"Width<string | number> | undefined"}},rightSectionWidth:{defaultValue:null,description:"Width of right section, is used to calculate input padding-right",name:"rightSectionWidth",required:!1,type:{name:"Width<string | number> | undefined"}},rightSectionProps:{defaultValue:null,description:"Props spread to rightSection div element",name:"rightSectionProps",required:!1,type:{name:"Record<string, any> | undefined"}},initiallyOpened:{defaultValue:null,description:"Initial dropdown opened state",name:"initiallyOpened",required:!1,type:{name:"boolean | undefined"}},itemComponent:{defaultValue:null,description:"Change item renderer",name:"itemComponent",required:!1,type:{name:"FC<any> | undefined"}},limit:{defaultValue:null,description:"Limit amount of items displayed at a time for searchable select",name:"limit",required:!1,type:{name:"number | undefined"}},dropdownPosition:{defaultValue:null,description:"Dropdown positioning behavior",name:"dropdownPosition",required:!1,type:{name:'"top" | "bottom" | "flip" | undefined'}},switchDirectionOnFlip:{defaultValue:null,description:"Whether to switch item order and keyboard navigation on dropdown position flip",name:"switchDirectionOnFlip",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const qn={component:S,tags:["autodocs"],argTypes:{id:{control:"text"},"data-testid":{control:"text"},radius:{options:["xs","sm","md","lg","xl"]},disabled:{control:"boolean"},children:{control:"text"},limit:{control:"number"},maxDropdownHeight:{control:"number"},data:{control:"object"},placeholder:{control:"text"},autoComplete:{options:["off","on"]}},decorators:[e=>D.jsx(xe,{children:D.jsx(e,{})})],parameters:{docs:{description:{component:`
### Autocomplete component

This description is written using markdown.  
Go ahead, poke around and see what you can do.
You have the power to change the world.
`}}}},w={args:{data:["React","Angular","Svelte","Vue"]}};var K,L,B;w.parameters={...w.parameters,docs:{...(K=w.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    data: ['React', 'Angular', 'Svelte', 'Vue']
  }
}`,...(B=(L=w.parameters)==null?void 0:L.docs)==null?void 0:B.source}}};const bn=["Basic"];export{w as Basic,bn as __namedExportsOrder,qn as default};
//# sourceMappingURL=Autocomplete.stories-aff8692d.js.map
